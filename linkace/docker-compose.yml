---
version: "2.1"
services:
  # LinkAce
  # Your self-hosted bookmark archive.

  web:
    image: linkace/linkace:simple
    volumes:
      - ./.env:/app/.env
      # Remove the hash of the following line if you want to use HTTPS for this container
      # - ./nginx-ssl.conf:/etc/nginx/conf.d/default.conf:ro
      # - /path/to/your/ssl/certificates:/certs:ro
      # Remove the hash of the following line if you want to use local backups
      # - ./backups:/app/storage/app/backups
    ports:
      - 8080:80
    depends_on:
      - db
    restart: unless-stopped

  db:
    image: postgres:12
    environment:
      - POSTGRES_USER=linkace
      - POSTGRES_PASSWORD=linkace
      - POSTGRES_DB=linkace
    volumes:
      - pgdata:/var/lib/postgresql/data
    restart: unless-stopped

volumes:
  pgdata:
